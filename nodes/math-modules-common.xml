<?xml version="1.0" standalone="no"?>

<kickstart>

<description>
math libraries

Automatically Tuned Linear Algebra Package (ATLAS)
http://math-atlas.sourceforge.net

LAPACK (LINEAR ALGEBRA PACKAGE)
http://www.netlib.org/lapack

scalapack
www.netlib.org/scalapack


metis/parmetis
http://glaros.dtc.umn.edu/gkhome/views/metis
</description>

superlu
http://crd.lbl.gov/~xiaoye/SuperLU/
<copyright>
2011 R. Clint Whaley and the Atlas Developers

Copyright (c) 1992-2010 The University of Tennessee and The University
of Tennessee Research Foundation.  All rights reserved.
Copyright (c) 2000-2010 The University of California Berkeley. All
rights reserved.
Copyright (c) 2006-2010 The University of Colorado Denver.  All rights
reserved.

Copyright Regents of the University of Minnesota


Copyright (c) 2003, The Regents of the University of California, through
Lawrence Berkeley National Laboratory (subject to receipt of any required
approvals from U.S. Dept. of Energy)
</copyright>

<changelog>
</changelog>

<post>

# Remove /etc/profile.d files in favor of loadable modules when available

if test `grep -c /opt/modulefiles/applications /etc/profile.d/modules.csh` = 0; then
  echo 'setenv MODULEPATH /opt/modulefiles/applications:$MODULEPATH' >> \
       /etc/profile.d/modules.csh
fi
if test `grep -c /opt/modulefiles/applications /etc/profile.d/modules.sh` = 0; then
  echo 'export MODULEPATH=/opt/modulefiles/applications:$MODULEPATH' >> \
       /etc/profile.d/modules.sh
fi

<!-- ATLAS -->
if test -f /etc/profile.d/atlas.sh; then

  /bin/rm -f /etc/profile.d/atlas.*
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.gnu/atlas
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.pgi/atlas
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.intel/atlas

<file name="/opt/modulefiles/applications/.gnu/atlas/3.9.45" perms="0644">
#%Module1.0
prepend-path LD_LIBRARY_PATH /opt/atlas/3.9.45/gnu/lib
prepend-path LIBPATH /opt/atlas/3.9.45/gnu/lib
</file>

<file name="/opt/modulefiles/applications/.intel/atlas/3.9.45" perms="0644">
#%Module1.0
prepend-path LD_LIBRARY_PATH /opt/atlas/3.9.45/intel/lib
prepend-path LIBPATH /opt/atlas/3.9.45/intel/lib
</file>

<file name="/opt/modulefiles/applications/.pgi/atlas/3.9.45" perms="0644">
#%Module1.0
prepend-path LD_LIBRARY_PATH /opt/atlas/3.9.45/pgi/lib
prepend-path LIBPATH /opt/atlas/3.9.45/pgi/lib
</file>

<file name="/opt/modulefiles/applications/.gnu/atlas/.version.3.9.45">
#%Module1.0
set ModulesVersion "3.9.45"
</file>

<file name="/opt/modulefiles/applications/.intel/atlas/.version.3.9.45">
#%Module1.0
set ModulesVersion "3.9.45"
</file>

<file name="/opt/modulefiles/applications/.pgi/atlas/.version.3.9.45">
#%Module1.0
set ModulesVersion "3.9.45"
</file>

  /bin/ln -s /opt/modulefiles/applications/.gnu/atlas/.version.3.9.45 \
             /opt/modulefiles/applications/.gnu/atlas/.version
  /bin/ln -s /opt/modulefiles/applications/.pgi/atlas/.version.3.9.45 \
             /opt/modulefiles/applications/.pgi/atlas/.version
  /bin/ln -s /opt/modulefiles/applications/.intel/atlas/.version.3.9.45 \
             /opt/modulefiles/applications/.intel/atlas/.version

fi

<!-- LAPACK -->
if test -f /etc/profile.d/lapack.sh; then
  /bin/rm -f /etc/profile.d/lapack.*
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.gnu/lapack
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.pgi/lapack
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.intel/lapack

<file name="/opt/modulefiles/applications/.gnu/lapack/3.3.1" perms="0644">
#%Module1.0
prepend-path LD_LIBRARY_PATH /opt/lapack/3.3.1/gnu/lib
prepend-path LIBPATH /opt/lapack/3.3.1/gnu/lib
</file>

<file name="/opt/modulefiles/applications/lapack/.intel/3.3.1" perms="0644">
#%Module1.0
prepend-path LD_LIBRARY_PATH /opt/lapack/3.3.1/intel/lib
prepend-path LIBPATH /opt/lapack/3.3.1/intel/lib
</file>

<file name="/opt/modulefiles/applications/lapack/.pgi/3.3.1" perms="0644">
#%Module1.0
prepend-path LD_LIBRARY_PATH /opt/lapack/3.3.1/pgi/lib
prepend-path LIBPATH /opt/lapack/3.3.1/pgi/lib
</file>

<file name="/opt/modulefiles/applications/.gnu/lapack/.version.3.3.1">
#%Module1.0
set ModulesVersion "3.3.1"
</file>

<file name="/opt/modulefiles/applications/.intel/lapack/.version.3.3.1">
#%Module1.0
set ModulesVersion "3.3.1"
</file>

<file name="/opt/modulefiles/applications/.pgi/lapack/.version.3.3.1">
#%Module1.0
set ModulesVersion "3.3.1"
</file>

  /bin/ln -s /opt/modulefiles/applications/.gnu/lapack/.version.3.3.1 \
             /opt/modulefiles/applications/.gnu/lapack/.version
  /bin/ln -s /opt/modulefiles/applications/.pgi/lapack/.version.3.3.1 \
             /opt/modulefiles/applications/.pgi/lapack/.version
  /bin/ln -s /opt/modulefiles/applications/.intel/lapack/.version.3.3.1 \
             /opt/modulefiles/applications/.intel/lapack/.version

fi

<!-- SCALAPACK -->
if test -f /etc/profile.d/scalapack.sh; then
  /bin/rm -f /etc/profile.d/scalapack.*
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.gnu/scalapack
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.pgi/scalapack
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.intel/scalapack

<file name="/opt/modulefiles/applications/scalapack/.gnu/1.8.0" perms="0644">
#%Module1.0
prepend-path LD_LIBRARY_PATH /opt/scalapack/1.8.0/gnu/lib
prepend-path LIBPATH /opt/scalapack/1.8.0/gnu/lib
</file>

<file name="/opt/modulefiles/applications/scalapack/.intel/1.8.0" perms="0644">
#%Module1.0
prepend-path LD_LIBRARY_PATH /opt/scalapack/1.8.0/intel/lib
prepend-path LIBPATH /opt/scalapack/1.8.0/intel/lib
</file>

<file name="/opt/modulefiles/applications/scalapack/.pgi/1.8.0" perms="0644">
#%Module1.0
prepend-path LD_LIBRARY_PATH /opt/scalapack/1.8.0/pgi/lib
prepend-path LIBPATH /opt/scalapack/1.8.0/pgi/lib
</file>

<file name="/opt/modulefiles/applications/.gnu/scalapack/.version.1.8.0">
#%Module1.0
set ModulesVersion "1.8.0"
</file>

<file name="/opt/modulefiles/applications/.intel/scalapack/.version.1.8.0">
#%Module1.0
set ModulesVersion "1.8.0"
</file>

<file name="/opt/modulefiles/applications/.pgi/scalapack/.version.1.8.0">
#%Module1.0
set ModulesVersion "1.8.0"
</file>

  /bin/ln -s /opt/modulefiles/applications/.gnu/scalapack/.version.1.8.0 \
             /opt/modulefiles/applications/.gnu/scalapack/.version
  /bin/ln -s /opt/modulefiles/applications/.pgi/scalapack/.version.1.8.0 \
             /opt/modulefiles/applications/.pgi/scalapack/.version
  /bin/ln -s /opt/modulefiles/applications/.intel/scalapack/.version.1.8.0 \
             /opt/modulefiles/applications/.intel/scalapack/.version

fi

<!-- METIS -->
if test -f /etc/profile.d/metis.sh; then
  /bin/rm -f /etc/profile.d/metis.*
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.gnu/metis
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.pgi/metis
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.intel/metis

<file name="/opt/modulefiles/applications/metis/.gnu/5.0.1" perms="0644">
#%Module1.0
prepend-path PATH /opt/metis/5.0.1/gnu/lib
prepend-path LD_LIBRARY_PATH /opt/metis/5.0.1/gnu/lib
prepend-path LIBPATH /opt/metis/5.0.1/gnu/lib
</file>

<file name="/opt/modulefiles/applications/metis/.intel/5.0.1" perms="0644">
#%Module1.0
prepend-path PATH /opt/metis/5.0.1/gnu/lib
prepend-path LD_LIBRARY_PATH /opt/metis/5.0.1/intel/lib
prepend-path LIBPATH /opt/metis/5.0.1/intel/lib
</file>

<file name="/opt/modulefiles/applications/metis/.pgi/5.0.1" perms="0644">
#%Module1.0
prepend-path PATH /opt/metis/5.0.1/gnu/lib
prepend-path LD_LIBRARY_PATH /opt/metis/5.0.1/pgi/lib
prepend-path LIBPATH /opt/metis/5.0.1/pgi/lib
</file>

<file name="/opt/modulefiles/applications/.gnu/metis/.version.5.0.1">
#%Module1.0
set ModulesVersion "5.0.1"
</file>

<file name="/opt/modulefiles/applications/.intel/metis/.version.5.0.1">
#%Module1.0
set ModulesVersion "5.0.1"
</file>

<file name="/opt/modulefiles/applications/.pgi/metis/.version.5.0.1">
#%Module1.0
set ModulesVersion "5.0.1"
</file>

  /bin/ln -s /opt/modulefiles/applications/.gnu/metis/.version.5.0.1 \
             /opt/modulefiles/applications/.gnu/metis/.version
  /bin/ln -s /opt/modulefiles/applications/.pgi/metis/.version.5.0.1 \
             /opt/modulefiles/applications/.pgi/metis/.version
  /bin/ln -s /opt/modulefiles/applications/.intel/metis/.version.5.0.1 \
             /opt/modulefiles/applications/.intel/metis/.version

fi
<!-- PARMETIS -->
if test -f /etc/profile.d/parmetis.sh; then
  /bin/rm -f /etc/profile.d/parmetis.*
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.gnu/parmetis
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.pgi/parmetis
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.intel/parmetis

<file name="/opt/modulefiles/applications/parmetis/.gnu/2.5" perms="0644">
#%Module1.0
prepend-path PATH /opt/parmetis/2.5/gnu/lib
prepend-path LD_LIBRARY_PATH /opt/parmetis/2.5/gnu/lib
prepend-path LIBPATH /opt/parmetis/2.5/gnu/lib
</file>

<file name="/opt/modulefiles/applications/parmetis/.intel/2.5" perms="0644">
#%Module1.0
prepend-path PATH /opt/parmetis/2.5/gnu/lib
prepend-path LD_LIBRARY_PATH /opt/parmetis/2.5/intel/lib
prepend-path LIBPATH /opt/parmetis/2.5/intel/lib
</file>

<file name="/opt/modulefiles/applications/parmetis/.pgi/2.5" perms="0644">
#%Module1.0
prepend-path PATH /opt/parmetis/2.5/gnu/lib
prepend-path LD_LIBRARY_PATH /opt/parmetis/2.5/pgi/lib
prepend-path LIBPATH /opt/parmetis/2.5/pgi/lib
</file>

<file name="/opt/modulefiles/applications/.gnu/parmetis/.version.2.5">
#%Module1.0
set ModulesVersion "2.5"
</file>

<file name="/opt/modulefiles/applications/.intel/parmetis/.version.2.5">
#%Module1.0
set ModulesVersion "2.5"
</file>

<file name="/opt/modulefiles/applications/.pgi/parmetis/.version.2.5">
#%Module1.0
set ModulesVersion "2.5"
</file>

  /bin/ln -s /opt/modulefiles/applications/.gnu/parmetis/.version.2.5 \
             /opt/modulefiles/applications/.gnu/parmetis/.version
  /bin/ln -s /opt/modulefiles/applications/.pgi/parmetis/.version.2.5 \
             /opt/modulefiles/applications/.pgi/parmetis/.version
  /bin/ln -s /opt/modulefiles/applications/.intel/parmetis/.version.2.5 \
             /opt/modulefiles/applications/.intel/parmetis/.version

fi
<!-- SUPERLU -->
if test -f /etc/profile.d/superlu.sh; then
  /bin/rm -f /etc/profile.d/superlu.*
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.gnu/superlu
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.pgi/superlu
  /bin/mkdir -m 0755 -p /opt/modulefiles/applications/.intel/superlu

<file name="/opt/modulefiles/applications/superlu/.gnu/2.5" perms="0644">
#%Module1.0
prepend-path PATH /opt/superlu/2.5/gnu/lib
prepend-path LD_LIBRARY_PATH /opt/superlu/2.5/gnu/lib
prepend-path LIBPATH /opt/superlu/2.5/gnu/lib
</file>

<file name="/opt/modulefiles/applications/superlu/.intel/2.5" perms="0644">
#%Module1.0
prepend-path PATH /opt/superlu/2.5/gnu/lib
prepend-path LD_LIBRARY_PATH /opt/superlu/2.5/intel/lib
prepend-path LIBPATH /opt/superlu/2.5/intel/lib
</file>

<file name="/opt/modulefiles/applications/superlu/.pgi/2.5" perms="0644">
#%Module1.0
prepend-path PATH /opt/superlu/2.5/gnu/lib
prepend-path LD_LIBRARY_PATH /opt/superlu/2.5/pgi/lib
prepend-path LIBPATH /opt/superlu/2.5/pgi/lib
</file>

<file name="/opt/modulefiles/applications/.gnu/superlu/.version.2.5">
#%Module1.0
set ModulesVersion "2.5"
</file>

<file name="/opt/modulefiles/applications/.intel/superlu/.version.2.5">
#%Module1.0
set ModulesVersion "2.5"
</file>

<file name="/opt/modulefiles/applications/.pgi/superlu/.version.2.5">
#%Module1.0
set ModulesVersion "2.5"
</file>

  /bin/ln -s /opt/modulefiles/applications/.gnu/superlu/.version.2.5 \
             /opt/modulefiles/applications/.gnu/superlu/.version
  /bin/ln -s /opt/modulefiles/applications/.pgi/superlu/.version.2.5 \
             /opt/modulefiles/applications/.pgi/superlu/.version
  /bin/ln -s /opt/modulefiles/applications/.intel/superlu/.version.2.5 \
             /opt/modulefiles/applications/.intel/superlu/.version

fi
</post>
</kickstart>
